package bytecode

import (
	"encoding/hex"
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestDecodeContractCreationMetadata(t *testing.T) {
	tests := []struct {
		name     string
		bytecode []byte
		want     *Metadata
		wantErr  bool
	}{
		{
			name: "Test with valid cbor metadata",
			bytecode: func() []byte {
				bytes, _ := hex.DecodeString("60a06040526040518060400160405280600a81526020017f4c4153544f465045504500000000000000000000000000000000000000000000815250600290816200004a919062001161565b506040518060400160405280600381526020017f4c4f5000000000000000000000000000000000000000000000000000000000008152506003908162000091919062001161565b506009600460006101000a81548160ff021916908360ff1602179055507367587c1c9724c82e69d7aa7a876d38fd51d469d5600460016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507367587c1c9724c82e69d7aa7a876d38fd51d469d5600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061dead73ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff168152506001600c556003600d556000600e556003600f5560056010556000601155600460125560086013556023601455604160155560006016556064601755600460009054906101000a900460ff16600a620001e79190620013d8565b62989680620001f7919062001429565b601855600460009054906101000a900460ff16600a620002189190620013d8565b6298968062000228919062001429565b601955600460009054906101000a900460ff16600a620002499190620013d8565b6298968062000259919062001429565b601a55600460009054906101000a900460ff16600a6200027a9190620013d8565b620c35006200028a919062001429565b601b556001601d60156101000a81548160ff0219169083151502179055506000601d60166101000a81548160ff0219169083151502179055506001601d60176101000a81548160ff021916908315150217905550348015620002eb57600080fd5b5073427d16f0e31f4478d1d95aeafaac8904d17615466000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507367587c1c9724c82e69d7aa7a876d38fd51d469d5600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360007310ed43c718714eb63d5aa57b78b54704e256024e90508073ffffffffffffffffffffffffffffffffffffffff1663c45a01556040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000475573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200049b9190620014de565b73ffffffffffffffffffffffffffffffffffffffff1663c9c65396308373ffffffffffffffffffffffffffffffffffffffff1663ad5c46486040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000503573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620005299190620014de565b6040518363ffffffff1660e01b81526004016200054892919062001521565b6020604051808303816000875af115801562000568573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200058e9190620014de565b601d60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080601c60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550601854600760003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600160086000620006ca62000e5360201b60201c565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160086000600460019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160086000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600860003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550620008a0600e546200088c600d54600c5462000e7c60201b62001f091790919060201c565b62000e7c60201b62001f091790919060201c565b601281905550620008df601154620008cb601054600f5462000e7c60201b62001f091790919060201c565b62000e7c60201b62001f091790919060201c565b6013819055506200091e6016546200090a60155460145462000e7c60201b62001f091790919060201c565b62000e7c60201b62001f091790919060201c565b6017819055506001600960006200093a62000e5360201b60201c565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160096000601d60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600960003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160096000600460019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160096000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600a600062000b6762000e5360201b60201c565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600a6000600460019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600a6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600b6000601d60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506018546006600062000d9562000edf60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555062000de362000edf60201b60201c565b73ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60185460405162000e4491906200155f565b60405180910390a3506200163a565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600080828462000e8d91906200157c565b90508381101562000ed5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040162000ecc9062001618565b60405180910390fd5b8091505092915050565b600033905090565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168062000f6957607f821691505b60208210810362000f7f5762000f7e62000f21565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b60006008830262000fe97fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8262000faa565b62000ff5868362000faa565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620010426200103c62001036846200100d565b62001017565b6200100d565b9050919050565b6000819050919050565b6200105e8362001021565b620010766200106d8262001049565b84845462000fb7565b825550505050565b600090565b6200108d6200107e565b6200109a81848462001053565b505050565b5b81811015620010c257620010b660008262001083565b600181019050620010a0565b5050565b601f8211156200111157620010db8162000f85565b620010e68462000f9a565b81016020851015620010f6578190505b6200110e620011058562000f9a565b8301826200109f565b50505b505050565b600082821c905092915050565b6000620011366000198460080262001116565b1980831691505092915050565b600062001151838362001123565b9150826002028217905092915050565b6200116c8262000ee7565b67ffffffffffffffff81111562001188576200118762000ef2565b5b62001194825462000f50565b620011a1828285620010c6565b600060209050601f831160018114620011d95760008415620011c4578287015190505b620011d0858262001143565b86555062001240565b601f198416620011e98662000f85565b60005b828110156200121357848901518255600182019150602085019450602081019050620011ec565b868310156200123357848901516200122f601f89168262001123565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b6000808291508390505b6001851115620012d657808604811115620012ae57620012ad62001248565b5b6001851615620012be5780820291505b8081029050620012ce8562001277565b94506200128e565b94509492505050565b600082620012f15760019050620013c4565b81620013015760009050620013c4565b81600181146200131a576002811462001325576200135b565b6001915050620013c4565b60ff8411156200133a576200133962001248565b5b8360020a91508482111562001354576200135362001248565b5b50620013c4565b5060208310610133831016604e8410600b8410161715620013955782820a9050838111156200138f576200138e62001248565b5b620013c4565b620013a4848484600162001284565b92509050818404811115620013be57620013bd62001248565b5b81810290505b9392505050565b600060ff82169050919050565b6000620013e5826200100d565b9150620013f283620013cb565b9250620014217fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484620012df565b905092915050565b600062001436826200100d565b915062001443836200100d565b925082820262001453816200100d565b915082820484148315176200146d576200146c62001248565b5b5092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620014a68262001479565b9050919050565b620014b88162001499565b8114620014c457600080fd5b50565b600081519050620014d881620014ad565b92915050565b600060208284031215620014f757620014f662001474565b5b60006200150784828501620014c7565b91505092915050565b6200151b8162001499565b82525050565b600060408201905062001538600083018562001510565b62001547602083018462001510565b9392505050565b62001559816200100d565b82525050565b60006020820190506200157660008301846200154e565b92915050565b600062001589826200100d565b915062001596836200100d565b9250828201905080821115620015b157620015b062001248565b5b92915050565b600082825260208201905092915050565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000600082015250565b600062001600601b83620015b7565b91506200160d82620015c8565b602082019050919050565b600060208201905081810360008301526200163381620015f1565b9050919050565b6080516145366200165d600039600081816110d5015261110101526145366000f3fe6080604052600436106102b25760003560e01c80638b42507f11610175578063c8607952116100dc578063df4fd51511610095578063f0cd1dac1161006f578063f0cd1dac14610aef578063f1d5f51714610b1a578063f84ba65d14610b43578063f872858a14610b6c576102b9565b8063df4fd51514610a74578063ec28438a14610a9d578063ef422a1814610ac6576102b9565b8063c86079521461094e578063c867d60b14610979578063cab03471146109b6578063da00097d146109e1578063dc44b6a014610a0c578063dd62ed3e14610a37576102b9565b8063a83f53a71161012e578063a83f53a71461083c578063a9059cbb14610867578063c469b6dd146108a4578063c49b9a80146108cf578063c5d24189146108f8578063c816841b14610923576102b9565b80638b42507f146107165780638da5cb5b1461075357806395d89b411461077e578063a073d37f146107a9578063a08e671f146107d4578063a457c2d7146107ff576102b9565b8063395093511161021957806370a08231116101d257806370a0823114610616578063715018a6146106535780637d1db4a51461066a578063807c2d9c1461069557806382eefb43146106c057806388790a68146106eb576102b9565b806339509351146104de5780633ecad2711461051b5780634a74bb02146105585780635342acb41461058357806357a5802f146105c057806361a23c69146105eb576102b9565b80632198cf6c1161026b5780632198cf6c146103ce57806323b872dd146103f757806327c8f835146104345780632b112e491461045f578063313ce5671461048a57806335bce6e4146104b5576102b9565b806306fdde03146102be57806308733214146102e9578063095ea7b3146103125780631694505e1461034f57806318160ddd1461037a5780631870517a146103a5576102b9565b366102b957005b600080fd5b3480156102ca57600080fd5b506102d3610b97565b6040516102e0919061335a565b60405180910390f35b3480156102f557600080fd5b50610310600480360381019061030b91906133c6565b610c29565b005b34801561031e57600080fd5b5061033960048036038101906103349190613477565b610d4f565b60405161034691906134d2565b60405180910390f35b34801561035b57600080fd5b50610364610d6d565b604051610371919061354c565b60405180910390f35b34801561038657600080fd5b5061038f610d93565b60405161039c9190613576565b60405180910390f35b3480156103b157600080fd5b506103cc60048036038101906103c791906133c6565b610d9d565b005b3480156103da57600080fd5b506103f560048036038101906103f091906135bd565b610ec3565b005b34801561040357600080fd5b5061041e600480360381019061041991906135fd565b610ff9565b60405161042b91906134d2565b60405180910390f35b34801561044057600080fd5b506104496110d3565b604051610456919061365f565b60405180910390f35b34801561046b57600080fd5b506104746110f7565b6040516104819190613576565b60405180910390f35b34801561049657600080fd5b5061049f61113b565b6040516104ac9190613696565b60405180910390f35b3480156104c157600080fd5b506104dc60048036038101906104d791906138bc565b611152565b005b3480156104ea57600080fd5b5061050560048036038101906105009190613477565b6112bf565b60405161051291906134d2565b60405180910390f35b34801561052757600080fd5b50610542600480360381019061053d9190613934565b611372565b60405161054f91906134d2565b60405180910390f35b34801561056457600080fd5b5061056d611392565b60405161057a91906134d2565b60405180910390f35b34801561058f57600080fd5b506105aa60048036038101906105a59190613934565b6113a5565b6040516105b791906134d2565b60405180910390f35b3480156105cc57600080fd5b506105d56113c5565b6040516105e29190613576565b60405180910390f35b3480156105f757600080fd5b506106006113cb565b60405161060d9190613576565b60405180910390f35b34801561062257600080fd5b5061063d60048036038101906106389190613934565b6113d1565b60405161064a9190613576565b60405180910390f35b34801561065f57600080fd5b5061066861141a565b005b34801561067657600080fd5b5061067f6115b3565b60405161068c9190613576565b60405180910390f35b3480156106a157600080fd5b506106aa6115b9565b6040516106b79190613576565b60405180910390f35b3480156106cc57600080fd5b506106d56115bf565b6040516106e29190613576565b60405180910390f35b3480156106f757600080fd5b506107006115c5565b60405161070d9190613576565b60405180910390f35b34801561072257600080fd5b5061073d60048036038101906107389190613934565b6115cb565b60405161074a91906134d2565b60405180910390f35b34801561075f57600080fd5b506107686115eb565b604051610775919061365f565b60405180910390f35b34801561078a57600080fd5b50610793611614565b6040516107a0919061335a565b60405180910390f35b3480156107b557600080fd5b506107be6116a6565b6040516107cb9190613576565b60405180910390f35b3480156107e057600080fd5b506107e96116b0565b6040516107f69190613576565b60405180910390f35b34801561080b57600080fd5b5061082660048036038101906108219190613477565b6116b6565b60405161083391906134d2565b60405180910390f35b34801561084857600080fd5b50610851611783565b60405161085e9190613576565b60405180910390f35b34801561087357600080fd5b5061088e60048036038101906108899190613477565b611789565b60405161089b91906134d2565b60405180910390f35b3480156108b057600080fd5b506108b96117a8565b6040516108c69190613576565b60405180910390f35b3480156108db57600080fd5b506108f660048036038101906108f19190613961565b6117ae565b005b34801561090457600080fd5b5061090d6118dd565b60405161091a9190613576565b60405180910390f35b34801561092f57600080fd5b506109386118e3565b604051610945919061365f565b60405180910390f35b34801561095a57600080fd5b50610963611909565b6040516109709190613576565b60405180910390f35b34801561098557600080fd5b506109a0600480360381019061099b9190613934565b61190f565b6040516109ad91906134d2565b60405180910390f35b3480156109c257600080fd5b506109cb61192f565b6040516109d89190613576565b60405180910390f35b3480156109ed57600080fd5b506109f6611935565b604051610a0391906134d2565b60405180910390f35b348015610a1857600080fd5b50610a21611948565b604051610a2e9190613576565b60405180910390f35b348015610a4357600080fd5b50610a5e6004803603810190610a59919061398e565b61194e565b604051610a6b9190613576565b60405180910390f35b348015610a8057600080fd5b50610a9b6004803603810190610a9691906139ce565b6119d5565b005b348015610aa957600080fd5b50610ac46004803603810190610abf91906139ce565b611aba565b005b348015610ad257600080fd5b50610aed6004803603810190610ae891906135bd565b611b9f565b005b348015610afb57600080fd5b50610b04611cd5565b604051610b119190613576565b60405180910390f35b348015610b2657600080fd5b50610b416004803603810190610b3c91906139ce565b611cdb565b005b348015610b4f57600080fd5b50610b6a6004803603810190610b6591906135bd565b611dc0565b005b348015610b7857600080fd5b50610b81611ef6565b604051610b8e91906134d2565b60405180910390f35b606060028054610ba690613a2a565b80601f0160208091040260200160405190810160405280929190818152602001828054610bd290613a2a565b8015610c1f5780601f10610bf457610100808354040283529160200191610c1f565b820191906000526020600020905b815481529060010190602001808311610c0257829003601f168201915b5050505050905090565b610c316115eb565b73ffffffffffffffffffffffffffffffffffffffff16610c4f611f67565b73ffffffffffffffffffffffffffffffffffffffff161480610cc55750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16610cad611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b610d04576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cfb90613aa7565b60405180910390fd5b82600f819055508160108190555080601181905550610d44601154610d36601054600f54611f0990919063ffffffff16565b611f0990919063ffffffff16565b601381905550505050565b6000610d63610d5c611f67565b8484611f6f565b6001905092915050565b601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000601854905090565b610da56115eb565b73ffffffffffffffffffffffffffffffffffffffff16610dc3611f67565b73ffffffffffffffffffffffffffffffffffffffff161480610e395750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16610e21611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b610e78576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e6f90613aa7565b60405180910390fd5b82600c8190555081600d8190555080600e81905550610eb8600e54610eaa600d54600c54611f0990919063ffffffff16565b611f0990919063ffffffff16565b601281905550505050565b610ecb6115eb565b73ffffffffffffffffffffffffffffffffffffffff16610ee9611f67565b73ffffffffffffffffffffffffffffffffffffffff161480610f5f5750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16610f47611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b610f9e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f9590613aa7565b60405180910390fd5b80600960008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b6000611006848484612138565b506110c884611013611f67565b6110c3856040518060600160405280602881526020016144b460289139600760008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000611079611f67565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461275e9092919063ffffffff16565b611f6f565b600190509392505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b60006111366111257f00000000000000000000000000000000000000000000000000000000000000006113d1565b6018546127c290919063ffffffff16565b905090565b6000600460009054906101000a900460ff16905090565b8051825114611196576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161118d90613b13565b60405180910390fd5b60005b82518110156112ba5760008382815181106111b7576111b6613b33565b5b6020026020010151905060008383815181106111d6576111d5613b33565b5b60200260200101519050600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361124f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161124690613bae565b60405180910390fd5b60008111611292576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161128990613c1a565b60405180910390fd5b6112a461129d611f67565b8383612138565b50505080806112b290613c69565b915050611199565b505050565b60006113686112cc611f67565b8461136385600760006112dd611f67565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f0990919063ffffffff16565b611f6f565b6001905092915050565b600b6020528060005260406000206000915054906101000a900460ff1681565b601d60159054906101000a900460ff1681565b60086020528060005260406000206000915054906101000a900460ff1681565b60145481565b60155481565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6114226115eb565b73ffffffffffffffffffffffffffffffffffffffff16611440611f67565b73ffffffffffffffffffffffffffffffffffffffff1614806114b65750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1661149e611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b6114f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114ec90613aa7565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff1660008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a360008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b60195481565b601a5481565b60135481565b600f5481565b600a6020528060005260406000206000915054906101000a900460ff1681565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60606003805461162390613a2a565b80601f016020809104026020016040519081016040528092919081815260200182805461164f90613a2a565b801561169c5780601f106116715761010080835404028352916020019161169c565b820191906000526020600020905b81548152906001019060200180831161167f57829003601f168201915b5050505050905090565b6000601b54905090565b60175481565b60006117796116c3611f67565b84611774856040518060600160405280602581526020016144dc60259139600760006116ed611f67565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461275e9092919063ffffffff16565b611f6f565b6001905092915050565b60165481565b600061179d611796611f67565b8484612138565b506001905092915050565b600e5481565b6117b66115eb565b73ffffffffffffffffffffffffffffffffffffffff166117d4611f67565b73ffffffffffffffffffffffffffffffffffffffff16148061184a5750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611832611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611889576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188090613aa7565b60405180910390fd5b80601d60156101000a81548160ff0219169083151502179055507f53726dfcaf90650aa7eb35524f4d3220f07413c8d6cb404cc8c18bf5591bc159816040516118d291906134d2565b60405180910390a150565b600d5481565b601d60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60105481565b60096020528060005260406000206000915054906101000a900460ff1681565b60115481565b601d60169054906101000a900460ff1681565b600c5481565b6000600760008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6119dd6115eb565b73ffffffffffffffffffffffffffffffffffffffff166119fb611f67565b73ffffffffffffffffffffffffffffffffffffffff161480611a715750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611a59611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611ab0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611aa790613aa7565b60405180910390fd5b80601b8190555050565b611ac26115eb565b73ffffffffffffffffffffffffffffffffffffffff16611ae0611f67565b73ffffffffffffffffffffffffffffffffffffffff161480611b565750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611b3e611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611b95576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b8c90613aa7565b60405180910390fd5b8060198190555050565b611ba76115eb565b73ffffffffffffffffffffffffffffffffffffffff16611bc5611f67565b73ffffffffffffffffffffffffffffffffffffffff161480611c3b5750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611c23611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611c7a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c7190613aa7565b60405180910390fd5b80600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60125481565b611ce36115eb565b73ffffffffffffffffffffffffffffffffffffffff16611d01611f67565b73ffffffffffffffffffffffffffffffffffffffff161480611d775750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611d5f611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611db6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611dad90613aa7565b60405180910390fd5b80601a8190555050565b611dc86115eb565b73ffffffffffffffffffffffffffffffffffffffff16611de6611f67565b73ffffffffffffffffffffffffffffffffffffffff161480611e5c5750600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611e44611f67565b73ffffffffffffffffffffffffffffffffffffffff16145b611e9b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e9290613aa7565b60405180910390fd5b80600a60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b601d60179054906101000a900460ff1681565b6000808284611f189190613cb1565b905083811015611f5d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f5490613d31565b60405180910390fd5b8091505092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611fde576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611fd590613dc3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361204d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161204490613e55565b60405180910390fd5b80600760008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9258360405161212b9190613576565b60405180910390a3505050565b60008073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16036121a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161219f90613ee7565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603612217576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161220e90613f79565b60405180910390fd5b6000821161225a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122519061400b565b60405180910390fd5b601d60149054906101000a900460ff16156122815761227a84848461280c565b9050612757565b600a60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161580156123255750600a60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16155b156123705760195482111561236f576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123669061409d565b60405180910390fd5b5b600061237b306113d1565b90506000601b5482101590508080156123a15750601d60149054906101000a900460ff16155b80156123f75750600b60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16155b801561240f5750601d60159054906101000a900460ff165b1561243957601d60169054906101000a900460ff161561242f57601b5491505b612438826129df565b5b6124c2846040518060400160405280601481526020017f496e73756666696369656e742042616c616e6365000000000000000000000000815250600660008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461275e9092919063ffffffff16565b600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000600860008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16806125a85750600860008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b6125bc576125b7878787612bd0565b6125be565b845b9050601d60179054906101000a900460ff1680156126265750600960008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16155b1561265557601a546126498261263b896113d1565b611f0990919063ffffffff16565b111561265457600080fd5b5b6126a781600660008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f0990919063ffffffff16565b600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508573ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516127479190613576565b60405180910390a3600193505050505b9392505050565b60008383111582906127a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161279d919061335a565b60405180910390fd5b50600083856127b591906140bd565b9050809150509392505050565b600061280483836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f77000081525061275e565b905092915050565b6000612897826040518060400160405280601481526020017f496e73756666696369656e742042616c616e6365000000000000000000000000815250600660008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461275e9092919063ffffffff16565b600660008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061292c82600660008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f0990919063ffffffff16565b600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516129cc9190613576565b60405180910390a3600190509392505050565b6001601d60146101000a81548160ff0219169083151502179055506000612a386002612a2a601754612a1c60145487612df790919063ffffffff16565b612e7190919063ffffffff16565b612e7190919063ffffffff16565b90506000612a4f82846127c290919063ffffffff16565b9050612a5a81612ebb565b60004790506000612a8b612a7a6002601454612e7190919063ffffffff16565b6017546127c290919063ffffffff16565b90506000612ac96002612abb84612aad60145488612df790919063ffffffff16565b612e7190919063ffffffff16565b612e7190919063ffffffff16565b90506000612af483612ae660165487612df790919063ffffffff16565b612e7190919063ffffffff16565b90506000612b1d82612b0f85886127c290919063ffffffff16565b6127c290919063ffffffff16565b90506000811115612b5557612b54600460019054906101000a900473ffffffffffffffffffffffffffffffffffffffff1682613137565b5b6000821115612b8b57612b8a600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1683613137565b5b600083118015612b9b5750600087115b15612bab57612baa8784613182565b5b505050505050506000601d60146101000a81548160ff02191690831515021790555050565b60008060009050600b60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615612c5857612c516064612c4360125486612df790919063ffffffff16565b612e7190919063ffffffff16565b9050612cd6565b600b60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615612cd557612cd26064612cc460135486612df790919063ffffffff16565b612e7190919063ffffffff16565b90505b5b6000811115612dda57612d3181600660003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611f0990919063ffffffff16565b600660003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef83604051612dd19190613576565b60405180910390a35b612ded81846127c290919063ffffffff16565b9150509392505050565b6000808303612e095760009050612e6b565b60008284612e1791906140f1565b9050828482612e269190614162565b14612e66576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e5d90614205565b60405180910390fd5b809150505b92915050565b6000612eb383836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250613267565b905092915050565b6000600267ffffffffffffffff811115612ed857612ed76136b6565b5b604051908082528060200260200182016040528015612f065781602001602082028036833780820191505090505b5090503081600081518110612f1e57612f1d613b33565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ad5c46486040518163ffffffff1660e01b8152600401602060405180830381865afa158015612fc5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612fe9919061423a565b81600181518110612ffd57612ffc613b33565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505061306430601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684611f6f565b601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663791ac9478360008430426040518663ffffffff1660e01b81526004016130c8959493929190614360565b600060405180830381600087803b1580156130e257600080fd5b505af11580156130f6573d6000803e3d6000fd5b505050507f32cde87eb454f3a0b875ab23547023107cfad454363ec88ba5695e2c24aa52a7828260405161312b9291906143ba565b60405180910390a15050565b8173ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561317d573d6000803e3d6000fd5b505050565b6131af30601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684611f6f565b601c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f305d7198230856000806131fb6115eb565b426040518863ffffffff1660e01b815260040161321d969594939291906143ea565b60606040518083038185885af115801561323b573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906132609190614460565b5050505050565b600080831182906132ae576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016132a5919061335a565b60405180910390fd5b50600083856132bd9190614162565b9050809150509392505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156133045780820151818401526020810190506132e9565b60008484015250505050565b6000601f19601f8301169050919050565b600061332c826132ca565b61333681856132d5565b93506133468185602086016132e6565b61334f81613310565b840191505092915050565b600060208201905081810360008301526133748184613321565b905092915050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6133a381613390565b81146133ae57600080fd5b50565b6000813590506133c08161339a565b92915050565b6000806000606084860312156133df576133de613386565b5b60006133ed868287016133b1565b93505060206133fe868287016133b1565b925050604061340f868287016133b1565b9150509250925092565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061344482613419565b9050919050565b61345481613439565b811461345f57600080fd5b50565b6000813590506134718161344b565b92915050565b6000806040838503121561348e5761348d613386565b5b600061349c85828601613462565b92505060206134ad858286016133b1565b9150509250929050565b60008115159050919050565b6134cc816134b7565b82525050565b60006020820190506134e760008301846134c3565b92915050565b6000819050919050565b600061351261350d61350884613419565b6134ed565b613419565b9050919050565b6000613524826134f7565b9050919050565b600061353682613519565b9050919050565b6135468161352b565b82525050565b6000602082019050613561600083018461353d565b92915050565b61357081613390565b82525050565b600060208201905061358b6000830184613567565b92915050565b61359a816134b7565b81146135a557600080fd5b50565b6000813590506135b781613591565b92915050565b600080604083850312156135d4576135d3613386565b5b60006135e285828601613462565b92505060206135f3858286016135a8565b9150509250929050565b60008060006060848603121561361657613615613386565b5b600061362486828701613462565b935050602061363586828701613462565b9250506040613646868287016133b1565b9150509250925092565b61365981613439565b82525050565b60006020820190506136746000830184613650565b92915050565b600060ff82169050919050565b6136908161367a565b82525050565b60006020820190506136ab6000830184613687565b92915050565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6136ee82613310565b810181811067ffffffffffffffff8211171561370d5761370c6136b6565b5b80604052505050565b600061372061337c565b905061372c82826136e5565b919050565b600067ffffffffffffffff82111561374c5761374b6136b6565b5b602082029050602081019050919050565b600080fd5b600061377561377084613731565b613716565b905080838252602082019050602084028301858111156137985761379761375d565b5b835b818110156137c157806137ad8882613462565b84526020840193505060208101905061379a565b5050509392505050565b600082601f8301126137e0576137df6136b1565b5b81356137f0848260208601613762565b91505092915050565b600067ffffffffffffffff821115613814576138136136b6565b5b602082029050602081019050919050565b6000613838613833846137f9565b613716565b9050808382526020820190506020840283018581111561385b5761385a61375d565b5b835b81811015613884578061387088826133b1565b84526020840193505060208101905061385d565b5050509392505050565b600082601f8301126138a3576138a26136b1565b5b81356138b3848260208601613825565b91505092915050565b600080604083850312156138d3576138d2613386565b5b600083013567ffffffffffffffff8111156138f1576138f061338b565b5b6138fd858286016137cb565b925050602083013567ffffffffffffffff81111561391e5761391d61338b565b5b61392a8582860161388e565b9150509250929050565b60006020828403121561394a57613949613386565b5b600061395884828501613462565b91505092915050565b60006020828403121561397757613976613386565b5b6000613985848285016135a8565b91505092915050565b600080604083850312156139a5576139a4613386565b5b60006139b385828601613462565b92505060206139c485828601613462565b9150509250929050565b6000602082840312156139e4576139e3613386565b5b60006139f2848285016133b1565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680613a4257607f821691505b602082108103613a5557613a546139fb565b5b50919050565b7f4e6f742041646d696e0000000000000000000000000000000000000000000000600082015250565b6000613a916009836132d5565b9150613a9c82613a5b565b602082019050919050565b60006020820190508181036000830152613ac081613a84565b9050919050565b7f417272617973206c656e677468206d69736d6174636800000000000000000000600082015250565b6000613afd6016836132d5565b9150613b0882613ac7565b602082019050919050565b60006020820190508181036000830152613b2c81613af0565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f496e76616c696420616464726573730000000000000000000000000000000000600082015250565b6000613b98600f836132d5565b9150613ba382613b62565b602082019050919050565b60006020820190508181036000830152613bc781613b8b565b9050919050565b7f496e76616c696420616d6f756e74000000000000000000000000000000000000600082015250565b6000613c04600e836132d5565b9150613c0f82613bce565b602082019050919050565b60006020820190508181036000830152613c3381613bf7565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000613c7482613390565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203613ca657613ca5613c3a565b5b600182019050919050565b6000613cbc82613390565b9150613cc783613390565b9250828201905080821115613cdf57613cde613c3a565b5b92915050565b7f536166654d6174683a206164646974696f6e206f766572666c6f770000000000600082015250565b6000613d1b601b836132d5565b9150613d2682613ce5565b602082019050919050565b60006020820190508181036000830152613d4a81613d0e565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000613dad6024836132d5565b9150613db882613d51565b604082019050919050565b60006020820190508181036000830152613ddc81613da0565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000613e3f6022836132d5565b9150613e4a82613de3565b604082019050919050565b60006020820190508181036000830152613e6e81613e32565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000613ed16025836132d5565b9150613edc82613e75565b604082019050919050565b60006020820190508181036000830152613f0081613ec4565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000613f636023836132d5565b9150613f6e82613f07565b604082019050919050565b60006020820190508181036000830152613f9281613f56565b9050919050565b7f5472616e7366657220616d6f756e74206d75737420626520677265617465722060008201527f7468616e207a65726f0000000000000000000000000000000000000000000000602082015250565b6000613ff56029836132d5565b915061400082613f99565b604082019050919050565b6000602082019050818103600083015261402481613fe8565b9050919050565b7f5472616e7366657220616d6f756e74206578636565647320746865206d61785460008201527f78416d6f756e742e000000000000000000000000000000000000000000000000602082015250565b60006140876028836132d5565b91506140928261402b565b604082019050919050565b600060208201905081810360008301526140b68161407a565b9050919050565b60006140c882613390565b91506140d383613390565b92508282039050818111156140eb576140ea613c3a565b5b92915050565b60006140fc82613390565b915061410783613390565b925082820261411581613390565b9150828204841483151761412c5761412b613c3a565b5b5092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600061416d82613390565b915061417883613390565b92508261418857614187614133565b5b828204905092915050565b7f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f60008201527f7700000000000000000000000000000000000000000000000000000000000000602082015250565b60006141ef6021836132d5565b91506141fa82614193565b604082019050919050565b6000602082019050818103600083015261421e816141e2565b9050919050565b6000815190506142348161344b565b92915050565b6000602082840312156142505761424f613386565b5b600061425e84828501614225565b91505092915050565b6000819050919050565b600061428c61428761428284614267565b6134ed565b613390565b9050919050565b61429c81614271565b82525050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6142d781613439565b82525050565b60006142e983836142ce565b60208301905092915050565b6000602082019050919050565b600061430d826142a2565b61431781856142ad565b9350614322836142be565b8060005b8381101561435357815161433a88826142dd565b9750614345836142f5565b925050600181019050614326565b5085935050505092915050565b600060a0820190506143756000830188613567565b6143826020830187614293565b81810360408301526143948186614302565b90506143a36060830185613650565b6143b06080830184613567565b9695505050505050565b60006040820190506143cf6000830185613567565b81810360208301526143e18184614302565b90509392505050565b600060c0820190506143ff6000830189613650565b61440c6020830188613567565b6144196040830187614293565b6144266060830186614293565b6144336080830185613650565b61444060a0830184613567565b979650505050505050565b60008151905061445a8161339a565b92915050565b60008060006060848603121561447957614478613386565b5b60006144878682870161444b565b93505060206144988682870161444b565b92505060406144a98682870161444b565b915050925092509256fe45524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa2646970667358221220b47452e094a03da36336b5ba3efebf10e52f7ea54c6ed62e2844f8e646eee68064736f6c63430008120033")
				return bytes
			}(),
			want: &Metadata{
				executionBytecode: []byte{}, // Omited due to being just way too large...
				raw:               []byte{0xa2, 0x64, 0x69, 0x70, 0x66, 0x73, 0x58, 0x22, 0x12, 0x20, 0xb4, 0x74, 0x52, 0xe0, 0x94, 0xa0, 0x3d, 0xa3, 0x63, 0x36, 0xb5, 0xba, 0x3e, 0xfe, 0xbf, 0x10, 0xe5, 0x2f, 0x7e, 0xa5, 0x4c, 0x6e, 0xd6, 0x2e, 0x28, 0x44, 0xf8, 0xe6, 0x46, 0xee, 0xe6, 0x80, 0x64, 0x73, 0x6f, 0x6c, 0x63, 0x43, 0x0, 0x8, 0x12},
				Ipfs:              []byte{0x12, 0x20, 0xb4, 0x74, 0x52, 0xe0, 0x94, 0xa0, 0x3d, 0xa3, 0x63, 0x36, 0xb5, 0xba, 0x3e, 0xfe, 0xbf, 0x10, 0xe5, 0x2f, 0x7e, 0xa5, 0x4c, 0x6e, 0xd6, 0x2e, 0x28, 0x44, 0xf8, 0xe6, 0x46, 0xee, 0xe6, 0x80},
				Bzzr1:             nil,
				Bzzr0:             nil,
				Experimental:      nil,
				cborLength:        51,
				Solc:              []byte{0x0, 0x8, 0x12},
			},
			wantErr: false,
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got, err := DecodeContractMetadata(tt.bytecode)
			if tt.wantErr {
				assert.Error(t, err)
			} else {
				assert.NoError(t, err)
				assert.Equal(t, tt.want.Ipfs, got.Ipfs)
				assert.Equal(t, tt.want.Bzzr0, got.Bzzr0)
				assert.Equal(t, tt.want.Bzzr1, got.Bzzr1)
				assert.Equal(t, tt.want.Experimental, got.Experimental)
				assert.Equal(t, tt.want.cborLength, got.cborLength)
				assert.Equal(t, tt.want.Solc, got.Solc)
				assert.Equal(t, tt.want.raw, got.raw)
				assert.Equal(t, tt.want.GetCompilerVersion(), got.GetCompilerVersion())
				assert.Equal(t, tt.want.GetIPFS(), got.GetIPFS())
				assert.Equal(t, tt.want.GetBzzr0(), got.GetBzzr0())
				assert.Equal(t, tt.want.GetBzzr1(), got.GetBzzr1())
				assert.Equal(t, tt.want.GetExperimental(), got.GetExperimental())
				assert.Equal(t, tt.want.GetRawMetadata(), got.GetRawMetadata())
				assert.Equal(t, tt.want.GetCborLength(), got.GetCborLength())
			}
		})
	}
}
